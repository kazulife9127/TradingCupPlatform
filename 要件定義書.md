# 1. プロジェクト目的

## 1.1 目的

IZKYトークンの流動性向上を目的とし、

実取引データを用いたトレーディング大会をWeb上で実施する。

---

## 1.2 Phase1の成功定義

- 1取引所 × 1ペア × 1Cup が正常に開催される
- 実データでランキングが生成される
- 管理者が結果を確定できる

---

# 2. 提供形態

## 2.1 デバイス

- Webアプリケーション（ブラウザ）
- PWA未対応
- ネイティブアプリ対象外

---

## 2.2 主要想定端末

- Mobileファースト設計
- PCレスポンシブ対応

---

# 3. 大会仕様（Phase1確定）

---

## 3.1 対象

- 取引所：1社のみ
- ペア：IZKY / USDT
- 取引種別：現物のみ
- 大会期間：固定7日間
- 参加費：無料（Freeroll）

---

## 3.2 参加条件

### ① 途中参加

不可（大会開始時点で締切）

### ② 入出金

大会期間中に入出金が発生した場合は失格

### ③ 最低残高

最低残高条件は設けない

### ④ 最低出来高条件

大会期間中に

**最低 100 USDT 相当の総出来高を達成した場合のみランキング対象**

※ BUY / SELL 両方カウント

---

# 4. スコア計算ロジック

---

## 4.1 開始資産

大会開始時刻のAPI取得残高

---

## 4.2 終了資産

大会終了時刻のAPI取得残高

---

## 4.3 PNL

```
終了資産 − 開始資産
```

---

## 4.4 PNL%

```
PNL ÷ 開始資産 ×100
```

---

## 4.5 未決済ポジション

- 終了時点API残高ベース
- マーク価格計算なし

---

## 4.6 同率順位

- 同順位
- 次順位スキップ（1位,1位,3位）

---

## 4.7 開始資産ゼロの場合

- 参加不可

---

# 5. ランキング更新

- 更新頻度：30分バッチ
- リアルタイム更新なし
- API障害時：延長なし

---

# 6.想定画面数

### **29画面（メイン：12画面 + 状態別：17画面）**

|No|区分|画面名|状態/パターン|主目的|備考|
|---|---|---|---|---|---|
|1|User|ウォレットログイン|未接続|ウォレット接続促進|CTA表示|
|2|User|ウォレットログイン|接続済|接続成功状態表示|自動ロビー遷移可|
|3|User|API登録|未登録|API入力フォーム表示|Read-only必須|
|4|User|API登録|接続テスト成功|接続成功表示|保存ボタン活性|
|5|User|API登録|接続テスト失敗|エラー表示|再入力促進|
|6|User|Cupロビー|開催予定|開始前Cup表示|Register不可|
|7|User|Cupロビー|開催中（未参加）|Register可能|参加ボタン活性|
|8|User|Cupロビー|開催中（参加済）|参加済表示|ランキング導線|
|9|User|Cupロビー|終了|終了表示|結果閲覧導線|
|10|User|Cup詳細|未参加|大会条件表示|参加確定ボタン|
|11|User|Cup詳細|参加済|参加状態表示|ランキング導線|
|12|User|Cup詳細|参加不可|開始資産ゼロ等|エラー理由表示|
|13|User|ランキング|通常表示|順位テーブル表示|30分更新|
|14|User|ランキング|自分圏外|自分の順位別表示|最下部固定表示等|
|15|User|ランキング|出来高未達|ランキング非表示|対象外表示|
|16|User|プロフィール|戦績あり|過去Cup表示|バッジ表示|
|17|User|プロフィール|戦績なし|初回状態表示|参加促進UI|
|18|User|失格表示|入出金検知|失格理由表示|復帰不可|
|19|User|失格表示|出来高未達|対象外表示|大会終了時確定|
|20|Admin|管理ログイン|未ログイン|認証フォーム|ロール制御|
|21|Admin|管理ログイン|ログイン済|ダッシュボード表示|管理機能導線|
|22|Admin|Cup一覧管理|下書き|編集可能|未公開状態|
|23|Admin|Cup一覧管理|開催中|状態表示|編集制限|
|24|Admin|Cup一覧管理|終了|結果確定待ち|確定導線|
|25|Admin|Cup作成/複製|新規作成|テンプレ生成|1ペア固定|
|26|Admin|Cup詳細管理|通常|設定変更可|開始前のみ|
|27|Admin|Cup詳細管理|強制失格実行|対象ユーザー除外|履歴保存前提|
|28|Admin|結果確定|未確定|ランキング確認|確定ボタン活性|
|29|Admin|結果確定|確定済|編集不可状態|変更不可表示|

# 6. ユーザー機能（MVP）

---

## 6.1 認証

- Web3ウォレットログイン

---

## 6.2 API登録

- Read-only APIのみ受付
- 接続テストあり
- 暗号化保存

---

## 6.3 ロビー

- 開催中 / 予定 / 終了Cup表示
- Registerボタン

---

## 6.4 ランキング

表示項目：

- 順位
- ユーザー名（ウォレット短縮表示）
- PNL%
- PNL
- 出来高
- 自分の順位ハイライト

---

## 6.5 プロフィール

- 過去Cup結果一覧
- 獲得バッジ表示

---

# 7. 管理機能

---

## 7.1 大会管理

- テンプレート複製
- 開始/終了設定
- 強制失格

---

## 7.2 結果確定

- 管理者手動確定
- 確定後変更不可

---

# 8. 非対象（Out of Scope）

- 複数取引所対応
- 複数ペア対応
- 入出金補正ロジック
- 有料大会
- 自動報酬配布
- 通知機能
- リアルタイム更新
- 異議申し立て機能
- ネイティブアプリ

---

# 9. 想定規模

- 想定参加人数：100名
- 更新間隔：30分
- API制限考慮設計

---